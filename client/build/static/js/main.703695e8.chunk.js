(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,n,t){e.exports=t(53)},52:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(22),i=t.n(r),c=t(4),l=t.n(c),s=t(6),d=t(3),p=t(5),m=t.n(p),u=t(23),g=t(25),b=t(11),f=t(9),h=t(24);function x(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    width: 100vw;\n    height: 100vh;\n    #dialog{\n        display:flex;\n        justify-content:center;\n        align-items:center;\n        position:absolute;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        background:rgba(0,0,0,0.6);\n        .content{\n            position:relative;\n            padding:60px 5vw;\n            background:white;\n            max-width:100vw;\n            .fb-con{\n                max-width:100%;\n                background: rgb(59,89,152);\n                color: white;\n                padding: 10px 15px;\n                position: relative;\n                text-align: center;\n                margin-top:20px;\n                p{\n                    margin:0px;\n                    margin-left:25px;\n                }\n                .f{\n                    position: absolute;\n                    left: 15px;\n                    font-size:18px;\n                }\n                &:hover{\n                    cursor:pointer;\n                }\n            }\n            h4{\n                margin:0px;\n                text-align:center;\n            }\n            .x{\n                position:absolute;\n                top:15px;\n                right:15px;\n                font-size:24px;\n                &:hover{\n                    cursor:pointer;\n                }\n            }\n        }\n    }\n    .top {\n        width: 100%;\n        background: rgba(0, 0, 0, 0.1);\n        display:flex;\n        justify-content: center;\n        align-items:center;\n        img{\n            height:50px;\n            margin:0px 15px;\n            \n        }\n    }\n    .body {\n    }\n    .bottom {\n        width: 100%;\n        padding: 25px;\n        box-sizing: border-box;\n        overflow-x: scroll;\n        overflow-y: hidden;\n        white-space: nowrap;\n        text-align: center;\n        border-top:1px solid rgba(0,0,0,0.2);\n        ","\n        .prt {\n            display: inline-block;\n            margin-right: 30px;\n            position:relative;\n            &:hover{\n                cursor:pointer;\n                .img{\n                    opacity:0.7;\n                }\n            }\n            &:last-child {\n                margin-right: 0px;\n            }\n            .img {\n                width: 100px;\n                height: 100px;\n                background-size:cover;\n                background-position:center center;\n                border-radius: 100%;\n                box-sizing:border-box;\n                border:3px solid #002ebf;\n                margin:0px auto;\n                .caption{\n                    line-height:100px;\n                    width:100%;\n                    height:100%;\n                    font-weight:bold;\n                    border-radius:100%;\n                    color:#002ebf;\n                    display:none;\n                }\n            }\n            h4 {\n                margin-bottom: 0px;\n                margin-top: 10px;\n            }\n            p {\n                margin-top: 4px;\n                margin-bottom: 0px;\n            }\n        }\n        .prt.voted {\n            .img{\n                border:3px solid red;\n                .caption{\n                    background:rgba(255,255,255,0.5);\n                    display:block;\n                }\n            }\n        }\n    }\n    .bottom::-webkit-scrollbar {\n        height:8px;\n    }\n    \n    .bottom::-webkit-scrollbar-track {\n        box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    }\n    \n    .bottom::-webkit-scrollbar-thumb {\n        background-color: rgb(0,46,191,0.6);\n        border-radius: 10px;\n    }\n    .bottom:hover::-webkit-scrollbar-thumb{\n        background-color: #002ebf;\n    }\n    @media only screen and (max-width: 768px){\n        h2{\n            font-size:16px;\n        }\n        .top{\n            img{\n                height:30px;\n            }\n        }\n    }\n"]);return x=function(){return e},e}var w=function(e){var n=e.participants,t=e.facebook,r=e.senderName,i=e.alreadyVoted,c=e.anonymous,p=e.click,u=Object(a.useState)(i),g=Object(d.a)(u,2),x=g[0],w=g[1],y=Object(a.useState)(""),k=Object(d.a)(y,2),E=k[0],S=k[1],j=function(){var e=Object(s.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r&&!c?m.a.post("/vote",{requestingPlayerName:n,facebook:t,sender:r}).then((function(e){S("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0441\u0430\u043d\u0430\u043b\u0430\u0430 \u04e9\u0433\u043b\u04e9\u04e9!"),w(e.data.voted)})).catch((function(){return S("\u0414\u0430\u0445\u0438\u043d \u0441\u0430\u043d\u0430\u043b \u04e9\u0433\u04e9\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439!")})):S("\u0421\u0430\u043d\u0430\u043b\u0430\u0430 \u04e9\u0433\u04e9\u0445\u0438\u0439\u043d \u0442\u0443\u043b\u0434 \u043d\u044d\u0432\u0442\u0440\u044d\u0445 \u0448\u0430\u0430\u0440\u0434\u043b\u0430\u0433\u0430\u0442\u0430\u0439!");case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=window.innerWidth,n=window.innerHeight,t=document.querySelector(".top").offsetHeight,a=document.querySelector(".bottom").offsetHeight,o=n-t-a;console.log(e,n,"width",t,a,o),document.querySelector("iframe").style.width=e+"px",document.querySelector("iframe").style.height=o+"px",document.querySelector("iframe").style.boxSizing="border-box",document.querySelector("iframe").style.paddingTop="50px",document.querySelector("iframe").style.paddingBottom="50px"}),[]),o.a.createElement(v,null,o.a.createElement("div",{className:"top",style:{backgroundImage:"linear-gradient(45deg, #002ebf, #2891eb)"}},o.a.createElement("img",{src:"https://i.imgur.com/t9rOsAW.png"}),o.a.createElement("h2",{style:{textAlign:"center",color:"white"}},"\u04ae\u043d\u0434\u044d\u0441\u043d\u0438\u0439 \u0434\u044d\u044d\u0434 \u043b\u0438\u0433 2020 \u0443\u043b\u0438\u0440\u0430\u043b\u044b\u043d \u0448\u0438\u043b\u0434\u044d\u0433 \u0433\u043e\u043e\u043b\u044b\u043d \u0441\u0430\u043d\u0430\u043b \u0430\u0432\u0430\u0445 \u0445\u0443\u0443\u0434\u0430\u0441"),o.a.createElement("img",{src:"https://i.imgur.com/uHawS7U.png"})),o.a.createElement("div",{className:"body"},o.a.createElement("div",{style:{margin:"0px",padding:"0px",overflow:"hidden"}},o.a.createElement("iframe",{src:"https://www.youtube.com/embed/Nbst6fgBkUw",frameBorder:0,style:{overflow:"hidden",height:"100%",width:"100%"},height:"100%",width:"100%"}))),o.a.createElement("div",{className:"bottom"},n.map((function(e,n){return o.a.createElement("div",{className:"prt ".concat(x===e.name&&"voted"),key:n+"p",onClick:function(){return j(e.name)}},o.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(e.img,")")}},o.a.createElement("div",{className:"caption"},"VOTED")),o.a.createElement("h4",null,e.name),o.a.createElement("p",null,e.team))}))),o.a.createElement(b.a,null,E&&o.a.createElement(b.b.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0},id:"dialog"},o.a.createElement("div",{className:"content"},o.a.createElement("h4",null,E),c&&o.a.createElement("div",{className:"fb-con",onClick:p},o.a.createElement(f.a,{className:"f"}),o.a.createElement("p",null,"Continue with Facebook")),!c&&o.a.createElement("div",{className:"fb-con"},o.a.createElement(f.a,{className:"f"}),o.a.createElement("p",null,"Logged in as ",r)),o.a.createElement(h.a,{className:"x",onClick:function(){return S("")}})))))},v=g.a.div(x(),"");var y=function(){var e=Object(a.useState)(null),n=Object(d.a)(e,2),t=(n[0],n[1]),r=Object(a.useState)(null),i=Object(d.a)(r,2),c=i[0],p=i[1],u=Object(a.useState)(null),g=Object(d.a)(u,2),b=g[0],f=g[1],h=Object(a.useState)([]),x=Object(d.a)(h,2),v=x[0],y=x[1],k=Object(a.useState)(""),E=Object(d.a)(k,2),S=E[0],j=E[1],O=Object(a.useState)(!1),N=Object(d.a)(O,2),I=N[0],q=N[1],z=Object(a.useState)(!1),B=Object(d.a)(z,2),T=B[0],C=B[1];return Object(a.useEffect)((function(){if(localStorage.getItem("acto")&&localStorage.getItem("usid")){var e=localStorage.getItem("acto"),n=localStorage.getItem("usid");m.a.post("/login-with-facebook",{accessToken:e,userID:n}).then((function(a){if(200!==a.status)return window.alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445\u044d\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!");e&&t(e),n&&p(n),a.data.person.name&&f(a.data.person.name),a.data.participants&&y(a.data.participants),a.data.person.voted&&j(a.data.person.voted),q(!0)})).catch((function(e){localStorage.removeItem("acto"),localStorage.removeItem("usid"),document.location.reload()}))}else{(function(){var e=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()("/get-info");case 2:n=e.sent,y(n.data.participants),C(!0),q(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),[]),o.a.createElement("div",{className:"App"},I?o.a.createElement(w,{click:function(){window.FB?window.FB.login((function(e){if(!e||!e.authResponse)return document.location.reload();var n=e.authResponse,a=n.accessToken,o=n.userID;localStorage.setItem("acto",a),localStorage.setItem("usid",o),m.a.post("/login-with-facebook",{accessToken:a,userID:o}).then((function(e){if(200!==e.status)return window.alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445\u044d\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!");a&&t(a),o&&p(o),e.data.person.name&&f(e.data.person.name),e.data.participants&&y(e.data.participants),e.data.person.voted&&j(e.data.person.voted),q(!0),q(!1),q(!0),C(null)})).catch((function(e){localStorage.removeItem("acto"),localStorage.removeItem("usid"),document.location.reload()}))}),{scope:"public_profile,email"}):document.location.reload()},alreadyVoted:S,anonymous:T,senderName:b,participants:v,facebook:c}):"Loading")};t(52);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(y,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.703695e8.chunk.js.map