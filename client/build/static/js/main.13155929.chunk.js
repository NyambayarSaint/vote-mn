(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{29:function(e,n,t){e.exports=t(53)},52:function(e,n,t){},53:function(e,n,t){"use strict";t.r(n);var a=t(1),o=t.n(a),r=t(22),c=t.n(r),i=t(4),l=t.n(i),s=t(6),p=t(3),d=t(5),u=t.n(d),m=t(23),b=t(25),g=t(11),f=t(9),h=t(24);function v(){var e=Object(m.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    width: 100vw;\n    height: 100vh;\n    #dialog{\n        display:flex;\n        justify-content:center;\n        align-items:center;\n        position:absolute;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        background:rgba(0,0,0,0.6);\n        .content{\n            position:relative;\n            padding:60px;\n            background:white;\n            .fb-con{\n                min-width:300px;\n                width:350px;\n                background: rgb(59,89,152);\n                color: white;\n                padding: 10px 15px;\n                position: relative;\n                text-align: center;\n                margin-top:20px;\n                .f{\n                    position: absolute;\n                    left: 15px;\n                    font-size:18px;\n                }\n                &:hover{\n                    cursor:pointer;\n                }\n            }\n            h4{\n                margin:0px;\n                text-align:center;\n            }\n            .x{\n                position:absolute;\n                top:15px;\n                right:15px;\n                font-size:24px;\n                &:hover{\n                    cursor:pointer;\n                }\n            }\n        }\n    }\n    .top {\n        width: 100%;\n        height: 80px;\n        background: rgba(0, 0, 0, 0.1);\n    }\n    .body {\n    }\n    .bottom {\n        width: 100%;\n        padding: 25px;\n        box-sizing: border-box;\n        overflow-x: scroll;\n        white-space: nowrap;\n        text-align: center;\n        border-top:1px solid rgba(0,0,0,0.2);\n        .prt {\n            display: inline-block;\n            margin-right: 30px;\n            position:relative;\n            &:hover{\n                cursor:pointer;\n                .img{\n                    opacity:0.7;\n                }\n            }\n            &:last-child {\n                margin-right: 0px;\n            }\n            .img {\n                width: 100px;\n                height: 100px;\n                background-size:cover;\n                background-position:center center;\n                border-radius: 100%;\n                box-sizing:border-box;\n                border:3px solid #002ebf;\n                .caption{\n                    line-height:100px;\n                    width:100%;\n                    height:100%;\n                    font-weight:bold;\n                    border-radius:100%;\n                    color:#002ebf;\n                    display:none;\n                }\n            }\n            h4 {\n                margin-bottom: 0px;\n                margin-top: 10px;\n            }\n            p {\n                margin-top: 4px;\n                margin-bottom: 0px;\n            }\n        }\n        .prt.voted {\n            .img{\n                border:3px solid red;\n                .caption{\n                    background:rgba(255,255,255,0.5);\n                    display:block;\n                }\n            }\n        }\n    }\n    .bottom::-webkit-scrollbar {\n        height:8px;\n    }\n    \n    .bottom::-webkit-scrollbar-track {\n        box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    }\n    \n    .bottom::-webkit-scrollbar-thumb {\n        background-color: rgb(0,46,191,0.6);\n        border-radius: 10px;\n    }\n    .bottom:hover::-webkit-scrollbar-thumb{\n        background-color: #002ebf;\n    }\n"]);return v=function(){return e},e}var x=function(e){var n=e.participants,t=e.facebook,r=e.senderName,c=e.alreadyVoted,i=e.anonymous,d=e.click,m=Object(a.useState)(c),b=Object(p.a)(m,2),v=b[0],x=b[1],k=Object(a.useState)(""),E=Object(p.a)(k,2),j=E[0],y=E[1],O=function(){var e=Object(s.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r&&!i?u.a.post("/vote",{requestingPlayerName:n,facebook:t,sender:r}).then((function(e){y("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0441\u0430\u043d\u0430\u043b\u0430\u0430 \u04e9\u0433\u043b\u04e9\u04e9!"),x(e.data.voted)})).catch((function(){return y("\u0414\u0430\u0445\u0438\u043d \u0441\u0430\u043d\u0430\u043b \u04e9\u0433\u04e9\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439!")})):y("\u0421\u0430\u043d\u0430\u043b\u0430\u0430 \u04e9\u0433\u04e9\u0445\u0438\u0439\u043d \u0442\u0443\u043b\u0434 \u043d\u044d\u0432\u0442\u0440\u044d\u0445 \u0448\u0430\u0430\u0440\u0434\u043b\u0430\u0433\u0430\u0442\u0430\u0439!");case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return o.a.createElement(w,null,o.a.createElement("div",{className:"top"}),o.a.createElement("div",{className:"body"},"hehe"),o.a.createElement("div",{className:"bottom"},n.map((function(e,n){return o.a.createElement("div",{className:"prt ".concat(v===e.name&&"voted"),key:n+"p",onClick:function(){return O(e.name)}},o.a.createElement("div",{className:"img",style:{backgroundImage:"url(https://i2-prod.football.london/incoming/article18882096.ece/ALTERNATES/s615/0_GettyImages-1266331344.jpg)"}},o.a.createElement("div",{className:"caption"},"VOTED")),o.a.createElement("h4",null,e.name),o.a.createElement("p",null,e.team))}))),o.a.createElement(g.a,null,j&&o.a.createElement(g.b.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0},id:"dialog"},o.a.createElement("div",{className:"content"},o.a.createElement("h4",null,j),i&&o.a.createElement("div",{className:"fb-con",onClick:d},o.a.createElement(f.a,{className:"f"}),"Continue with Facebook"),!i&&o.a.createElement("div",{className:"fb-con"},o.a.createElement(f.a,{className:"f"}),"Logged in as ",r),o.a.createElement(h.a,{className:"x",onClick:function(){return y("")}})))))},w=b.a.div(v());var k=function(){var e=Object(a.useState)(null),n=Object(p.a)(e,2),t=(n[0],n[1]),r=Object(a.useState)(null),c=Object(p.a)(r,2),i=c[0],d=c[1],m=Object(a.useState)(null),b=Object(p.a)(m,2),g=b[0],f=b[1],h=Object(a.useState)([]),v=Object(p.a)(h,2),w=v[0],k=v[1],E=Object(a.useState)(""),j=Object(p.a)(E,2),y=j[0],O=j[1],S=Object(a.useState)(!1),N=Object(p.a)(S,2),I=N[0],T=N[1],z=Object(a.useState)(!1),C=Object(p.a)(z,2),D=C[0],A=C[1];return Object(a.useEffect)((function(){if(localStorage.getItem("acto")&&localStorage.getItem("usid")){var e=localStorage.getItem("acto"),n=localStorage.getItem("usid");u.a.post("/login-with-facebook",{accessToken:e,userID:n}).then((function(a){if(200!==a.status)return window.alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445\u044d\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!");e&&t(e),n&&d(n),a.data.person.name&&f(a.data.person.name),a.data.participants&&k(a.data.participants),a.data.person.voted&&O(a.data.person.voted),T(!0)})).catch((function(e){localStorage.removeItem("acto"),localStorage.removeItem("usid"),document.location.reload()}))}else{(function(){var e=Object(s.a)(l.a.mark((function e(){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u()("/get-info");case 2:n=e.sent,k(n.data.participants),A(!0),T(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),[]),o.a.createElement("div",{className:"App"},I?o.a.createElement(x,{click:function(){window.FB?window.FB.login((function(e){if(!e||!e.authResponse)return document.location.reload();var n=e.authResponse,a=n.accessToken,o=n.userID;localStorage.setItem("acto",a),localStorage.setItem("usid",o),u.a.post("/login-with-facebook",{accessToken:a,userID:o}).then((function(e){if(200!==e.status)return window.alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445\u044d\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!");a&&t(a),o&&d(o),e.data.person.name&&f(e.data.person.name),e.data.participants&&k(e.data.participants),e.data.person.voted&&O(e.data.person.voted),T(!0),document.location.reload()})).catch((function(e){localStorage.removeItem("acto"),localStorage.removeItem("usid"),document.location.reload()}))}),{scope:"public_profile,email"}):document.location.reload()},alreadyVoted:y,anonymous:D,senderName:g,participants:w,facebook:i}):"Loading")};t(52);c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(k,null)),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.13155929.chunk.js.map