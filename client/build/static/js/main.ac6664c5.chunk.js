(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){e.exports=n(54)},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(23),i=n.n(r),c=n(4),l=n.n(c),s=n(6),m=n(2),d=n(5),p=n.n(d),u=n(24),g=n(26),b=n(7),h=n(10),f=n(11),x=n(25);function v(){var e=Object(u.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    align-items: center;\n    width: 100vw;\n    height: 100vh;\n    #dialog{\n        display:flex;\n        justify-content:center;\n        align-items:center;\n        position:absolute;\n        top:0;\n        left:0;\n        right:0;\n        bottom:0;\n        background:rgba(0,0,0,0.6);\n        .content{\n            position:relative;\n            padding:60px 5vw;\n            background:white;\n            max-width:100vw;\n            .fb-con{\n                max-width:100%;\n                background: rgb(59,89,152);\n                color: white;\n                padding: 10px 15px;\n                position: relative;\n                text-align: center;\n                margin-top:20px;\n                p{\n                    margin:0px;\n                    margin-left:25px;\n                }\n                .f{\n                    position: absolute;\n                    left: 15px;\n                    font-size:18px;\n                }\n                &:hover{\n                    cursor:pointer;\n                }\n            }\n            h4{\n                margin:0px;\n                text-align:center;\n            }\n            .x{\n                position:absolute;\n                top:15px;\n                right:15px;\n                font-size:24px;\n                &:hover{\n                    cursor:pointer;\n                }\n            }\n        }\n    }\n    .anotherDialog{\n        h4{\n            border:1px solid rgba(0,0,0,0.1);\n            padding:15px;\n            &:hover{\n                cursor:pointer;\n            }\n        }\n    }\n    .top {\n        width: 100%;\n        background: rgba(0, 0, 0, 0.1);\n        display:flex;\n        justify-content: center;\n        align-items:center;\n        img{\n            height:50px;\n            margin:0px 15px;\n            \n        }\n        .imgcon{\n            display:flex;\n        }\n    }\n    .body {\n    }\n    .bottom {\n        width: 100%;\n        padding: 25px;\n        box-sizing: border-box;\n        overflow-x: scroll;\n        overflow-y: hidden;\n        white-space: nowrap;\n        text-align: center;\n        border-top:1px solid rgba(0,0,0,0.2);\n        ","\n        .prt {\n            display: inline-block;\n            margin-right: 30px;\n            position:relative;\n            &:hover{\n                cursor:pointer;\n                .img{\n                    opacity:0.7;\n                }\n            }\n            &:last-child {\n                margin-right: 0px;\n            }\n            .img {\n                width: 100px;\n                height: 100px;\n                background-size:cover;\n                background-position:center center;\n                border-radius: 100%;\n                box-sizing:border-box;\n                border:3px solid #002ebf;\n                margin:0px auto;\n                .caption{\n                    line-height:100px;\n                    width:100%;\n                    height:100%;\n                    font-weight:bold;\n                    border-radius:100%;\n                    color:#002ebf;\n                    display:none;\n                }\n            }\n            h4 {\n                margin-bottom: 0px;\n                margin-top: 10px;\n            }\n            p {\n                margin-top: 4px;\n                margin-bottom: 0px;\n            }\n        }\n        .prt.voted {\n            .img{\n                border:3px solid red;\n                .caption{\n                    background:rgba(255,255,255,0.5);\n                    display:block;\n                }\n            }\n        }\n    }\n    .bottom::-webkit-scrollbar {\n        height:8px;\n    }\n    \n    .bottom::-webkit-scrollbar-track {\n        box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.3);\n    }\n    \n    .bottom::-webkit-scrollbar-thumb {\n        background-color: rgb(0,46,191,0.6);\n        border-radius: 10px;\n    }\n    .bottom:hover::-webkit-scrollbar-thumb{\n        background-color: #002ebf;\n    }\n    @media only screen and (max-width: 768px){\n        h2{\n            font-size:16px;\n        }\n        .top{\n            img{\n                height:30px;\n            }\n            .imgcon{\n                flex-direction:column;\n                img{\n                    &:first-child{\n                        margin-bottom:7.5px;\n                        margin-top:15px;\n                    }\n                    &:last-child{\n                        margin-bottom:15px;\n                    }\n                }\n            }\n        }\n    }\n"]);return v=function(){return e},e}var w=function(e){var t=e.participants,n=e.facebook,r=e.senderName,i=e.alreadyVoted,c=e.anonymous,d=e.click,u=Object(a.useState)(i),g=Object(m.a)(u,2),v=g[0],w=g[1],E=Object(a.useState)(""),k=Object(m.a)(E,2),O=k[0],j=k[1],S=Object(a.useState)(!1),N=Object(m.a)(S,2),I=N[0],A=N[1],B=Object(a.useState)({}),T=Object(m.a)(B,2),q=T[0],z=T[1],C=Object(a.useState)(null),D=Object(m.a)(C,2),H=D[0],W=D[1],F=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r&&!c?p.a.post("/vote",{requestingPlayerName:t,facebook:n,sender:r}).then((function(e){j("\u0410\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u0441\u0430\u043d\u0430\u043b\u0430\u0430 \u04e9\u0433\u043b\u04e9\u04e9!"),w(e.data.voted)})).catch((function(){return j("\u0414\u0430\u0445\u0438\u043d \u0441\u0430\u043d\u0430\u043b \u04e9\u0433\u04e9\u0445 \u0431\u043e\u043b\u043e\u043c\u0436\u0433\u04af\u0439!")})):j("\u0421\u0430\u043d\u0430\u043b\u0430\u0430 \u04e9\u0433\u04e9\u0445\u0438\u0439\u043d \u0442\u0443\u043b\u0434 \u043d\u044d\u0432\u0442\u0440\u044d\u0445 \u0448\u0430\u0430\u0440\u0434\u043b\u0430\u0433\u0430\u0442\u0430\u0439! (\u0414\u0430\u0445\u0438\u043d \u0431\u0430\u0442\u0430\u043b\u0433\u0430\u0430\u0436\u0443\u0443\u043b\u0430\u0445)");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=window.innerWidth,t=window.innerHeight-document.querySelector(".top").offsetHeight-document.querySelector(".bottom").offsetHeight;document.querySelector("iframe").style.width=e+"px",document.querySelector("iframe").style.height=t+"px",document.querySelector("iframe").style.boxSizing="border-box",document.querySelector("iframe").style.paddingTop="50px",document.querySelector("iframe").style.paddingBottom="50px"}),[]);var U=function(){var e=Object(s.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/get-auth-no");case 2:t=e.sent,n=0,t.data&&t.data.users&&t.data.users.map((function(e){return e.voted&&e.voted.length>1&&n++})),W(n),z(t.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return o.a.createElement(y,null,o.a.createElement("div",{className:"top",style:{backgroundImage:"linear-gradient(45deg, #002ebf, #2891eb)"}},o.a.createElement("div",{className:"imgcon"},o.a.createElement("img",{src:"https://i.imgur.com/t9rOsAW.png"}),o.a.createElement("img",{src:"https://i.imgur.com/uHawS7U.png"})),o.a.createElement("h2",{style:{textAlign:"center",color:"white"}},"\u04ae\u043d\u0434\u044d\u0441\u043d\u0438\u0439 \u0434\u044d\u044d\u0434 \u043b\u0438\u0433 2020 \u0443\u043b\u0438\u0440\u0430\u043b\u044b\u043d \u0448\u0438\u043b\u0434\u044d\u0433 \u0433\u043e\u043e\u043b\u044b\u043d \u0441\u0430\u043d\u0430\u043b \u0430\u0432\u0430\u0445 \u0445\u0443\u0443\u0434\u0430\u0441"),o.a.createElement("div",{className:"imgcon"},o.a.createElement("img",{src:"https://i.imgur.com/ByZAObT.png"}),o.a.createElement("img",{src:"https://i.imgur.com/9u1POUD.png",onClick:function(){"Soccer91270817"===window.prompt(".")&&A(!0)}}))),o.a.createElement("div",{className:"body"},o.a.createElement("div",{style:{margin:"0px",padding:"0px",overflow:"hidden"}},o.a.createElement("iframe",{src:"https://www.youtube.com/embed/Nbst6fgBkUw",frameBorder:0,style:{overflow:"hidden",height:"100%",width:"100%"},height:"100%",width:"100%"}))),o.a.createElement("div",{className:"bottom"},t.map((function(e,t){return o.a.createElement("div",{className:"prt ".concat(v===e.name&&"voted"),key:t+"p",onClick:function(){return F(e.name)}},o.a.createElement("div",{className:"img",style:{backgroundImage:"url(".concat(e.img,")")}},o.a.createElement("div",{className:"caption"},"VOTED")),o.a.createElement("h4",null,e.name),o.a.createElement("p",null,e.team))}))),o.a.createElement(b.a,null,O&&o.a.createElement(b.b.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0},id:"dialog"},o.a.createElement("div",{className:"content"},o.a.createElement("h4",null,O),c&&o.a.createElement("div",{className:"fb-con",onClick:d},o.a.createElement(h.a,{className:"f"}),o.a.createElement("p",null,"Continue with Facebook")),!c&&o.a.createElement("div",{className:"fb-con"},o.a.createElement(h.a,{className:"f"}),o.a.createElement("p",null,"Logged in as ",r)),o.a.createElement(f.a,{className:"x",onClick:function(){return j("")}})))),o.a.createElement(b.a,null,I&&o.a.createElement(b.b.div,{initial:{opacity:0},animate:{opacity:1,transition:{duration:.3}},exit:{opacity:0},id:"dialog",className:"anotherDialog"},o.a.createElement("div",{className:"content"},o.a.createElement("h4",{onClick:U,style:{marginBottom:50,textAlign:"center"}},"\u041d\u0438\u0439\u0442 \u0442\u043e\u0433\u043b\u043e\u0433\u0447\u0434\u0438\u0439\u043d \u0441\u0430\u043d\u0430\u043b \u0445\u0430\u0440\u0430\u0445 ",o.a.createElement(x.a,null)),q.parts&&q.parts.length&&q.parts.map((function(e,t){return o.a.createElement("div",{style:{marginBottom:10,textAlign:"center"},key:t+"vs"},'"',e.name,'" - ',e.votes.length," \u0441\u0430\u043d\u0430\u043b\u0442\u0430\u0439 \u0431\u0430\u0439\u043d\u0430.")})),q.users&&o.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",marginTop:30}},"\u041d\u0438\u0439\u0442 \u0431\u04af\u0440\u0442\u0433\u04af\u04af\u043b\u0441\u044d\u043d \u0445\u044d\u0440\u044d\u0433\u043b\u044d\u0433\u0447\u0434\u0438\u0439\u043d \u0442\u043e\u043e : ",q.users&&q.users.length,o.a.createElement("br",null)),H&&o.a.createElement("div",{style:{textAlign:"center",fontWeight:"bold",marginTop:15}},"\u041d\u0438\u0439\u0442 \u0441\u0430\u043d\u0430\u043b\u0430\u0430 \u0430\u043c\u0436\u0438\u043b\u0442\u0442\u0430\u0439 \u04e9\u0433\u0441\u04e9\u043d \u0445\u04af\u043d\u0438\u0439 \u0442\u043e\u043e : ",H,o.a.createElement("br",null)),o.a.createElement("div",{style:{marginTop:50,textAlign:"center",border:"1px solid rgba(0,0,0,0.1)",padding:15,cursor:"pointer"},onClick:function(){A(!1)}},"\u0426\u043e\u043d\u0445\u044b\u0433 \u0445\u0430\u0430\u0445 ",o.a.createElement(f.a,null))))))},y=g.a.div(v(),"");var E=function(){var e=Object(a.useState)(null),t=Object(m.a)(e,2),n=(t[0],t[1]),r=Object(a.useState)(null),i=Object(m.a)(r,2),c=i[0],d=i[1],u=Object(a.useState)(null),g=Object(m.a)(u,2),b=g[0],h=g[1],f=Object(a.useState)([]),x=Object(m.a)(f,2),v=x[0],y=x[1],E=Object(a.useState)(""),k=Object(m.a)(E,2),O=k[0],j=k[1],S=Object(a.useState)(!1),N=Object(m.a)(S,2),I=N[0],A=N[1],B=Object(a.useState)(!1),T=Object(m.a)(B,2),q=T[0],z=T[1];return Object(a.useEffect)((function(){if(window.location.href.includes("https")||(window.location.href="https://vote-mn.herokuapp.com/"),localStorage.getItem("acto")&&localStorage.getItem("usid")){var e=localStorage.getItem("acto"),t=localStorage.getItem("usid");p.a.post("/login-with-facebook",{accessToken:e,userID:t}).then((function(a){if(200!==a.status)return window.alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445\u044d\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!");e&&n(e),t&&d(t),a.data.person.name&&h(a.data.person.name),a.data.participants&&y(a.data.participants),a.data.person.voted&&j(a.data.person.voted),A(!0)})).catch((function(e){localStorage.removeItem("acto"),localStorage.removeItem("usid"),document.location.reload()}))}else{(function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()("/get-info");case 2:t=e.sent,y(t.data.participants),z(!0),A(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}}),[]),o.a.createElement("div",{className:"App"},I?o.a.createElement(w,{click:function(){window.FB?window.FB.login((function(e){if(!e||!e.authResponse)return document.location.reload();var t=e.authResponse,a=t.accessToken,o=t.userID;localStorage.setItem("acto",a),localStorage.setItem("usid",o),p.a.post("/login-with-facebook",{accessToken:a,userID:o}).then((function(e){if(200!==e.status)return window.alert("\u041d\u044d\u0432\u0442\u0440\u044d\u0445\u044d\u0434 \u0430\u043b\u0434\u0430\u0430 \u0433\u0430\u0440\u043b\u0430\u0430!");a&&n(a),o&&d(o),e.data.person.name&&h(e.data.person.name),e.data.participants&&y(e.data.participants),e.data.person.voted&&j(e.data.person.voted),A(!0),A(!1),A(!0),z(null)})).catch((function(e){localStorage.removeItem("acto"),localStorage.removeItem("usid"),document.location.reload()}))}),{scope:"public_profile,email"}):document.location.reload()},alreadyVoted:O,anonymous:q,senderName:b,participants:v,facebook:c}):"Loading")};n(53);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null)),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.ac6664c5.chunk.js.map